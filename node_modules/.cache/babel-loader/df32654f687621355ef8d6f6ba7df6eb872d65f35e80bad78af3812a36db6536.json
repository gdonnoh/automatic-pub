{"ast":null,"code":"var _jsxFileName = \"/Users/gdonnoh/Desktop/vibecoding automatic publisher/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport FacebookLogin from 'react-facebook-login';\nimport axios from 'axios';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [accessToken, setAccessToken] = useState('');\n  const [postText, setPostText] = useState('');\n  const [commentText, setCommentText] = useState('');\n  const [selectedImage, setSelectedImage] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [message, setMessage] = useState('');\n  const responseFacebook = response => {\n    if (response.accessToken) {\n      setAccessToken(response.accessToken);\n      setIsLoggedIn(true);\n      setMessage('Login effettuato con successo!');\n    }\n  };\n  const handleImageChange = event => {\n    if (event.target.files && event.target.files[0]) {\n      setSelectedImage(event.target.files[0]);\n    }\n  };\n  const handleSubmit = async e => {\n    e.preventDefault();\n    setLoading(true);\n    setMessage('');\n    try {\n      const formData = new FormData();\n      formData.append('message', postText);\n      if (selectedImage) {\n        formData.append('image', selectedImage);\n      }\n\n      // Prima pubblichiamo il post\n      const postResponse = await axios.post(`https://graph.facebook.com/v18.0/me/photos`, formData, {\n        headers: {\n          Authorization: `Bearer ${accessToken}`,\n          'Content-Type': 'multipart/form-data'\n        }\n      });\n\n      // Se abbiamo un commento, lo pubblichiamo\n      if (commentText && postResponse.data.id) {\n        await axios.post(`https://graph.facebook.com/v18.0/${postResponse.data.id}/comments`, {\n          message: commentText\n        }, {\n          headers: {\n            Authorization: `Bearer ${accessToken}`\n          }\n        });\n      }\n      setMessage('Post pubblicato con successo!');\n      setPostText('');\n      setCommentText('');\n      setSelectedImage(null);\n    } catch (error) {\n      setMessage('Errore durante la pubblicazione: ' + error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"App-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Facebook Publisher\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }, this), !isLoggedIn ? /*#__PURE__*/_jsxDEV(FacebookLogin, {\n        appId: \"683283957808938\",\n        autoLoad: false,\n        fields: \"name,email,picture\",\n        callback: responseFacebook,\n        textButton: \"Accedi con Facebook\",\n        scope: \"public_profile,email,pages_manage_posts,pages_read_engagement,pages_show_list,pages_manage_engagement\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: handleSubmit,\n        className: \"post-form\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n            value: postText,\n            onChange: e => setPostText(e.target.value),\n            placeholder: \"Scrivi il tuo post...\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"file\",\n            accept: \"image/*\",\n            onChange: handleImageChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: /*#__PURE__*/_jsxDEV(\"textarea\", {\n            value: commentText,\n            onChange: e => setCommentText(e.target.value),\n            placeholder: \"Scrivi il primo commento...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          disabled: loading,\n          children: loading ? 'Pubblicazione...' : 'Pubblica'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 11\n      }, this), message && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"message\",\n        children: message\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"dMmYludPzUiitkoO+qukvshuWV0=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","FacebookLogin","axios","jsxDEV","_jsxDEV","App","_s","isLoggedIn","setIsLoggedIn","accessToken","setAccessToken","postText","setPostText","commentText","setCommentText","selectedImage","setSelectedImage","loading","setLoading","message","setMessage","responseFacebook","response","handleImageChange","event","target","files","handleSubmit","e","preventDefault","formData","FormData","append","postResponse","post","headers","Authorization","data","id","error","className","children","fileName","_jsxFileName","lineNumber","columnNumber","appId","autoLoad","fields","callback","textButton","scope","onSubmit","value","onChange","placeholder","required","type","accept","disabled","_c","$RefreshReg$"],"sources":["/Users/gdonnoh/Desktop/vibecoding automatic publisher/src/App.js"],"sourcesContent":["import React, { useState } from 'react';\nimport FacebookLogin from 'react-facebook-login';\nimport axios from 'axios';\nimport './App.css';\n\nfunction App() {\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [accessToken, setAccessToken] = useState('');\n  const [postText, setPostText] = useState('');\n  const [commentText, setCommentText] = useState('');\n  const [selectedImage, setSelectedImage] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [message, setMessage] = useState('');\n\n  const responseFacebook = (response) => {\n    if (response.accessToken) {\n      setAccessToken(response.accessToken);\n      setIsLoggedIn(true);\n      setMessage('Login effettuato con successo!');\n    }\n  };\n\n  const handleImageChange = (event) => {\n    if (event.target.files && event.target.files[0]) {\n      setSelectedImage(event.target.files[0]);\n    }\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setLoading(true);\n    setMessage('');\n\n    try {\n      const formData = new FormData();\n      formData.append('message', postText);\n      if (selectedImage) {\n        formData.append('image', selectedImage);\n      }\n\n      // Prima pubblichiamo il post\n      const postResponse = await axios.post(\n        `https://graph.facebook.com/v18.0/me/photos`,\n        formData,\n        {\n          headers: {\n            Authorization: `Bearer ${accessToken}`,\n            'Content-Type': 'multipart/form-data',\n          },\n        }\n      );\n\n      // Se abbiamo un commento, lo pubblichiamo\n      if (commentText && postResponse.data.id) {\n        await axios.post(\n          `https://graph.facebook.com/v18.0/${postResponse.data.id}/comments`,\n          {\n            message: commentText,\n          },\n          {\n            headers: {\n              Authorization: `Bearer ${accessToken}`,\n            },\n          }\n        );\n      }\n\n      setMessage('Post pubblicato con successo!');\n      setPostText('');\n      setCommentText('');\n      setSelectedImage(null);\n    } catch (error) {\n      setMessage('Errore durante la pubblicazione: ' + error.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n        <h1>Facebook Publisher</h1>\n        {!isLoggedIn ? (\n          <FacebookLogin\n            appId=\"683283957808938\"\n            autoLoad={false}\n            fields=\"name,email,picture\"\n            callback={responseFacebook}\n            textButton=\"Accedi con Facebook\"\n            scope=\"public_profile,email,pages_manage_posts,pages_read_engagement,pages_show_list,pages_manage_engagement\"\n          />\n        ) : (\n          <form onSubmit={handleSubmit} className=\"post-form\">\n            <div className=\"form-group\">\n              <textarea\n                value={postText}\n                onChange={(e) => setPostText(e.target.value)}\n                placeholder=\"Scrivi il tuo post...\"\n                required\n              />\n            </div>\n            <div className=\"form-group\">\n              <input\n                type=\"file\"\n                accept=\"image/*\"\n                onChange={handleImageChange}\n              />\n            </div>\n            <div className=\"form-group\">\n              <textarea\n                value={commentText}\n                onChange={(e) => setCommentText(e.target.value)}\n                placeholder=\"Scrivi il primo commento...\"\n              />\n            </div>\n            <button type=\"submit\" disabled={loading}>\n              {loading ? 'Pubblicazione...' : 'Pubblica'}\n            </button>\n          </form>\n        )}\n        {message && <div className=\"message\">{message}</div>}\n      </header>\n    </div>\n  );\n}\n\nexport default App; "],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,QAAQ,OAAO;AACvC,OAAOC,aAAa,MAAM,sBAAsB;AAChD,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAO,WAAW;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEnB,SAASC,GAAGA,CAAA,EAAG;EAAAC,EAAA;EACb,MAAM,CAACC,UAAU,EAAEC,aAAa,CAAC,GAAGR,QAAQ,CAAC,KAAK,CAAC;EACnD,MAAM,CAACS,WAAW,EAAEC,cAAc,CAAC,GAAGV,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACW,QAAQ,EAAEC,WAAW,CAAC,GAAGZ,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACa,WAAW,EAAEC,cAAc,CAAC,GAAGd,QAAQ,CAAC,EAAE,CAAC;EAClD,MAAM,CAACe,aAAa,EAAEC,gBAAgB,CAAC,GAAGhB,QAAQ,CAAC,IAAI,CAAC;EACxD,MAAM,CAACiB,OAAO,EAAEC,UAAU,CAAC,GAAGlB,QAAQ,CAAC,KAAK,CAAC;EAC7C,MAAM,CAACmB,OAAO,EAAEC,UAAU,CAAC,GAAGpB,QAAQ,CAAC,EAAE,CAAC;EAE1C,MAAMqB,gBAAgB,GAAIC,QAAQ,IAAK;IACrC,IAAIA,QAAQ,CAACb,WAAW,EAAE;MACxBC,cAAc,CAACY,QAAQ,CAACb,WAAW,CAAC;MACpCD,aAAa,CAAC,IAAI,CAAC;MACnBY,UAAU,CAAC,gCAAgC,CAAC;IAC9C;EACF,CAAC;EAED,MAAMG,iBAAiB,GAAIC,KAAK,IAAK;IACnC,IAAIA,KAAK,CAACC,MAAM,CAACC,KAAK,IAAIF,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,EAAE;MAC/CV,gBAAgB,CAACQ,KAAK,CAACC,MAAM,CAACC,KAAK,CAAC,CAAC,CAAC,CAAC;IACzC;EACF,CAAC;EAED,MAAMC,YAAY,GAAG,MAAOC,CAAC,IAAK;IAChCA,CAAC,CAACC,cAAc,CAAC,CAAC;IAClBX,UAAU,CAAC,IAAI,CAAC;IAChBE,UAAU,CAAC,EAAE,CAAC;IAEd,IAAI;MACF,MAAMU,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;MAC/BD,QAAQ,CAACE,MAAM,CAAC,SAAS,EAAErB,QAAQ,CAAC;MACpC,IAAII,aAAa,EAAE;QACjBe,QAAQ,CAACE,MAAM,CAAC,OAAO,EAAEjB,aAAa,CAAC;MACzC;;MAEA;MACA,MAAMkB,YAAY,GAAG,MAAM/B,KAAK,CAACgC,IAAI,CACnC,4CAA4C,EAC5CJ,QAAQ,EACR;QACEK,OAAO,EAAE;UACPC,aAAa,EAAE,UAAU3B,WAAW,EAAE;UACtC,cAAc,EAAE;QAClB;MACF,CACF,CAAC;;MAED;MACA,IAAII,WAAW,IAAIoB,YAAY,CAACI,IAAI,CAACC,EAAE,EAAE;QACvC,MAAMpC,KAAK,CAACgC,IAAI,CACd,oCAAoCD,YAAY,CAACI,IAAI,CAACC,EAAE,WAAW,EACnE;UACEnB,OAAO,EAAEN;QACX,CAAC,EACD;UACEsB,OAAO,EAAE;YACPC,aAAa,EAAE,UAAU3B,WAAW;UACtC;QACF,CACF,CAAC;MACH;MAEAW,UAAU,CAAC,+BAA+B,CAAC;MAC3CR,WAAW,CAAC,EAAE,CAAC;MACfE,cAAc,CAAC,EAAE,CAAC;MAClBE,gBAAgB,CAAC,IAAI,CAAC;IACxB,CAAC,CAAC,OAAOuB,KAAK,EAAE;MACdnB,UAAU,CAAC,mCAAmC,GAAGmB,KAAK,CAACpB,OAAO,CAAC;IACjE,CAAC,SAAS;MACRD,UAAU,CAAC,KAAK,CAAC;IACnB;EACF,CAAC;EAED,oBACEd,OAAA;IAAKoC,SAAS,EAAC,KAAK;IAAAC,QAAA,eAClBrC,OAAA;MAAQoC,SAAS,EAAC,YAAY;MAAAC,QAAA,gBAC5BrC,OAAA;QAAAqC,QAAA,EAAI;MAAkB;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,EAC1B,CAACtC,UAAU,gBACVH,OAAA,CAACH,aAAa;QACZ6C,KAAK,EAAC,iBAAiB;QACvBC,QAAQ,EAAE,KAAM;QAChBC,MAAM,EAAC,oBAAoB;QAC3BC,QAAQ,EAAE5B,gBAAiB;QAC3B6B,UAAU,EAAC,qBAAqB;QAChCC,KAAK,EAAC;MAAuG;QAAAT,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAC9G,CAAC,gBAEFzC,OAAA;QAAMgD,QAAQ,EAAEzB,YAAa;QAACa,SAAS,EAAC,WAAW;QAAAC,QAAA,gBACjDrC,OAAA;UAAKoC,SAAS,EAAC,YAAY;UAAAC,QAAA,eACzBrC,OAAA;YACEiD,KAAK,EAAE1C,QAAS;YAChB2C,QAAQ,EAAG1B,CAAC,IAAKhB,WAAW,CAACgB,CAAC,CAACH,MAAM,CAAC4B,KAAK,CAAE;YAC7CE,WAAW,EAAC,uBAAuB;YACnCC,QAAQ;UAAA;YAAAd,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACT;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eACNzC,OAAA;UAAKoC,SAAS,EAAC,YAAY;UAAAC,QAAA,eACzBrC,OAAA;YACEqD,IAAI,EAAC,MAAM;YACXC,MAAM,EAAC,SAAS;YAChBJ,QAAQ,EAAE/B;UAAkB;YAAAmB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC7B;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eACNzC,OAAA;UAAKoC,SAAS,EAAC,YAAY;UAAAC,QAAA,eACzBrC,OAAA;YACEiD,KAAK,EAAExC,WAAY;YACnByC,QAAQ,EAAG1B,CAAC,IAAKd,cAAc,CAACc,CAAC,CAACH,MAAM,CAAC4B,KAAK,CAAE;YAChDE,WAAW,EAAC;UAA6B;YAAAb,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC1C;QAAC;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACC,CAAC,eACNzC,OAAA;UAAQqD,IAAI,EAAC,QAAQ;UAACE,QAAQ,EAAE1C,OAAQ;UAAAwB,QAAA,EACrCxB,OAAO,GAAG,kBAAkB,GAAG;QAAU;UAAAyB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACpC,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACL,CACP,EACA1B,OAAO,iBAAIf,OAAA;QAAKoC,SAAS,EAAC,SAAS;QAAAC,QAAA,EAAEtB;MAAO;QAAAuB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAC9C;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACN,CAAC;AAEV;AAACvC,EAAA,CAvHQD,GAAG;AAAAuD,EAAA,GAAHvD,GAAG;AAyHZ,eAAeA,GAAG;AAAC,IAAAuD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}